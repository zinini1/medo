(self.AMP=self.AMP||[]).push({n:"amp-sticky-ad",ev:"1.0",l:true,v:"2104240357001",m:0,f:(function(AMP,_){
'use strict';var e,g="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function k(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}k(this);"function"===typeof Symbol&&Symbol("x");var l;
if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var p={a:!0},q={};try{q.__proto__=p;m=q.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=l,t;function u(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};var v=self.AMP_CONFIG||{},x=("string"==typeof v.cdnProxyRegex?new RegExp(v.cdnProxyRegex):v.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function y(a){if(self.document&&self.document.head&&(!self.location||!x.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}v.cdnUrl||y("runtime-host");v.geoApiUrl||y("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var z=self.__AMP_LOG;function A(){if(!z.user)throw Error("failed to call initLogConstructor");return z.user}function B(a){A().assert(a,"amp-sticky-ad must have a single amp-ad child",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function C(a){var b=D(a);b=D(b);b=b.isSingleDoc()?b.win:b;return E(b,"owners")}function D(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=E(b,"ampdoc").getAmpDoc(a)}return a}function E(a,b){var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function F(a){a.tagName.startsWith("AMP-");if(a.createdCallback)return Promise.resolve(a);if(!a.__AMP_UPG_PRM){var b=new u;a.__AMP_UPG_PRM=b.promise;a.__AMP_UPG_RES=b.resolve}return a.__AMP_UPG_PRM};var G,H="Webkit webkit Moz moz ms O o".split(" "),J={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function K(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};function L(a){a=AMP.BaseElement.call(this,a)||this;a.B=a.getVsync();a.j=null;a.h=null;a.A=!1;a.o=null;a.D=!1;a.C=null;return a}var M=AMP.BaseElement;L.prototype=g(M.prototype);L.prototype.constructor=L;if(r)r(L,M);else for(var N in M)if("prototype"!=N)if(Object.defineProperties){var O=Object.getOwnPropertyDescriptor(M,N);O&&Object.defineProperty(L,N,O)}else L[N]=M[N];L.G=M.prototype;e=L.prototype;
e.buildCallback=function(){var a=this;this.h=this.getViewport();this.element.classList.add("i-amphtml-sticky-ad-layout");var b=this.getRealChildren();B(1==b.length&&"AMP-AD"==b[0].tagName);this.j=b[0];C(this.element).setOwner(this.j,this.element);this.C=F(this.j).then(function(d){return d.build()}).then(function(){return a.mutateElement(function(){K(a.element,!0)})});var c=this.win.document.createElement("amp-sticky-ad-top-padding");c.classList.add("amp-sticky-ad-top-padding");this.element.insertBefore(c,
this.j);this.win.setTimeout(function(){a.o=a.h.onScroll(function(){1<a.h.getScrollTop()&&P(a)})})};e.layoutCallback=function(){this.A&&(K(this.element,!0),this.h.updatePaddingBottom(this.element.offsetHeight),C(this.element).scheduleLayout(this.element,this.j));t||(t=Promise.resolve(void 0));var a=t;return a};e.isAlwaysFixed=function(){return!0};e.unlayoutCallback=function(){this.h.updatePaddingBottom(0);return!0};e.detachedCallback=function(){Q(this)};
e.collapsedCallback=function(a){var b=this;a===this.j&&(this.D=!0,this.A=!1,K(this.element,!1),this.B.mutate(function(){b.h.updatePaddingBottom(0)}))};function Q(a){a.o&&(a.o(),a.o=null)}function P(a){Q(a);a.C.then(function(){a.mutateElement(function(){a.D||(a.A=!0,R(a),a.h.addToFixedLayer(a.element,!0).then(function(){return S(a)}))})})}function S(a){F(a.j).then(function(b){b.build().then(function(){return T(a)})})}
function T(a){var b=a.j;C(a.element).scheduleLayout(a.element,b);return b.signals().whenSignal("render-start").then(function(){var c;return a.measureElement(function(){c=(a.win.getComputedStyle(a.element)||J).backgroundColor}).then(function(){return a.B.mutatePromise(function(){a.element.setAttribute("visible","");a.h.updatePaddingBottom(a.element.offsetHeight);var d=c,w=d.replace(/\(([^,]+),([^,]+),([^,)]+),[^)]+\)/g,"($1,$2,$3, 1)");if(d!=w){A().warn("AMP-STICKY-AD","Do not allow container to be semitransparent");
d=a.element;var f=d.style;if("background-color".startsWith("--"))f="background-color";else{G||(G=Object.create(null));var n=G["background-color"];if(!n){n="background-color";if(void 0===f["background-color"]){var h;b:{for(h=0;h<H.length;h++){var I=H[h]+"Background-color";if(void 0!==f[I]){h=I;break b}}h=""}void 0!==f[h]&&(n=h)}G["background-color"]=n}f=n}f&&(f.startsWith("--")?d.style.setProperty(f,w):d.style[f]=w)}})})})}
function R(a){var b=a.win.document.createElement("button");b.classList.add("amp-sticky-ad-close-button");b.setAttribute("aria-label",a.element.getAttribute("data-close-button-aria-label")||"Close this ad");var c=a.F.bind(a);b.addEventListener("click",c);a.element.appendChild(b)}e.F=function(){var a=this;this.B.mutate(function(){a.A=!1;C(a.element).scheduleUnlayout(a.element,a.j);a.h.removeFromFixedLayer(a.element);var b=a.element;b.parentElement&&b.parentElement.removeChild(b);a.h.updatePaddingBottom(0)})};
(function(a){a.registerElement("amp-sticky-ad",L,"amp-sticky-ad{position:fixed!important;text-align:center;bottom:0!important;left:0;width:100%!important;z-index:11;max-height:100px!important;box-sizing:border-box;opacity:1!important;background-image:none!important;background-color:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,0.2)!important;margin-bottom:0!important;padding-bottom:env(safe-area-inset-bottom,0px)}amp-sticky-ad-top-padding{display:block;width:100%!important;background:#fff;height:4px;max-height:5px!important;z-index:12}.i-amphtml-sticky-ad-layout{display:-ms-flexbox;display:flex;visibility:hidden!important;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:visible!important;transform:translateZ(0)!important}amp-sticky-ad[visible]{visibility:visible!important}.i-amphtml-sticky-ad-layout>amp-ad{display:block}.amp-sticky-ad-close-button{position:absolute;visibility:hidden;width:28px;height:28px;top:-28px;right:0;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='13' height='13' viewBox='341 8 13 13' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%234F4F4F' d='M354 9.31 352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z' fill-rule='evenodd'/%3E%3C/svg%3E\");background-size:13px 13px;background-position:9px;background-color:#fff;background-repeat:no-repeat;box-shadow:0 -1px 1px 0 rgba(0,0,0,0.2);border:none;border-radius:12px 0 0 0}amp-sticky-ad[visible]>.amp-sticky-ad-close-button{visibility:visible}.amp-sticky-ad-close-button:before{position:absolute;content:\"\";top:-20px;right:0;left:-20px;bottom:0}[dir=rtl] .amp-sticky-ad-close-button{right:auto;left:0;border-top-left-radius:0;border-top-right-radius:12px;background-position:6px}[dir=rtl] .amp-sticky-ad-close-button:before{right:-20px;left:0}\n/*# sourceURL=/extensions/amp-sticky-ad/1.0/amp-sticky-ad.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-sticky-ad-1.0.js.map
